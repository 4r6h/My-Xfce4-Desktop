#!/usr/bin/env bash

read -p "Enter your username: " username

while true
do
      read -r -p "Are You Installing in VM? [Y/n] " input
      case $input in
            [yY][eE][sS]|[yY])
                  sh 02-Fix-display-resolution-in-Arch-Linux-VM.sh
                  break
                  ;;
            [nN][oO]|[nN])                                                                                                                                                        
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "------------------------------------Installing wget & vim-------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
pacman --needed --noconfirm -S wget vim reflector
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "---------------------------------------Updating Mirrors---------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
wget -c https://raw.githubusercontent.com/4r6h/ArchyMirrorsBD/main/updatemirrors.sh;chmod +x updatemirrors.sh;sh updatemirrors.sh;
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "------------------------------------------Installing Paru-------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
su ${username};sh InstallParu.sh
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------Installing Packages-----------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
paru -Syu - <packages.txt --needed --noconfirm
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "-----------------------------------------Installing Fonts-------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
sh Fonts.sh
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "------------------------------------------Setting Bashrc--------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
wget -c https://raw.githubusercontent.com/4r6h/mybash/main/mybash.sh;chmod +x mybash.sh;sh mybash.sh
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "-----------------------------------------Sddm Configure---------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
sh set-sddm.sh
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "------------------------------------------Setting Rofi----------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
sh set-rofi.sh
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------Setting Alacritty-------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
sh set-alacritty.sh; sh set-locale.sh
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "--------------------------------------------Finshed-------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"
echo "----------------------------------------------------------------------------------------------------"

break
                  ;;
            *)
                  echo "Invalid input..."
                  ;;
      esac      
done
